.page {
    /* Кегль зависит от ширины экрана, ограничен снизу и сверху фиксированным размером */
    font: clamp(1rem, 0.5rem + 0.9vw, 1.3rem) Arial, sans-serif;
}

.page__head {
    grid-column: 1/4;
}

.page__menu-switcher {
    display: none;
}

.page__menu-switcher:checked ~ .page__menu {
    left: 0;

    width: 100%;
}

.page__menu-switcher:checked ~ .page__aside {
    bottom: -90px;
}

.page__menu-switcher:checked ~ .page__main {
    position: static;

    overflow: hidden;
}

.page__menu-switcher:checked ~ .page__main .page__foot {
    display: none;
}

/*
    В идеале это должен быть header__burger, но тогда протекает абстракция в
    .page__menu-switcher:checked ~ .page__head .page__menu-burger-lines
*/
.page__menu-burger {
    position: relative;
    z-index: 2;

    display: flex;
    flex-direction: column;
    flex-shrink: 0;
    justify-content: center;
    align-self: stretch;

    width: var(--header-size);

    cursor: pointer;
}

.page__menu-burger-lines,
.page__menu-burger-close {
    align-self: center;

    width: clamp(20px, 5vw, 32px);

    fill: none;
    stroke: var(--color-nav);
    stroke-width: 2;

    transition: stroke var(--transition);
}

.page__menu-burger-lines {
    opacity: 1;

    transform: translateY(46%);
}

.page__menu-burger-close {
    opacity: 0;

    transform: translateY(-57%);
}

.page__menu-burger:hover .page__menu-burger-lines,
.page__menu-burger:hover .page__menu-burger-close {
    stroke: var(--color-nav-hover);
}

.page__menu-switcher:checked ~ .page__head .page__menu-burger-lines {
    opacity: 0;
}

.page__menu-switcher:checked ~ .page__head .page__menu-burger-close {
    opacity: 1;
}

.page__menu {
    position: absolute;
    top: 0;
    left: 100%;

    overflow: hidden;

    width: 0;
    height: 100vh;

    transition: left var(--transition), width var(--transition);
}

.page__main {
    overflow: auto;
    box-sizing: border-box;

    min-height: calc(100vh - var(--header-size));
    padding: max(6px, min(1vw, 10px)) clamp(6px, 3vw, 30px) 50px;
}

.page__aside {
    position: fixed;
    right: 0;
    bottom: 0;
    left: 0;

    height: 50px;
    /* padding: 5px clamp(10px, 2.5vw, 22px); */

    transition: bottom var(--transition);
}

.page__sitemap {
    grid-column: 1/4;

    padding: 0 clamp(10px, 2.5vw, 22px);
}

/* 1200 = 200 + 1000, где 1000 — ширина рекламы РСЯ */
@media (min-width: 1000px) {
    .page {
        display: grid;
        grid-template-columns: minmax(min(10em, 272px), 20%) minmax(min(728px, 80%), 1fr);
        grid-template-rows: minmax(var(--header-size), auto) 1fr;
    }

    .page__head {
        grid-column: 1/4;
    }

    .page__menu {
        position: static;

        width: auto;
        height: auto;

        background: none;
    }

    .page__menu-burger {
        display: none;
    }

    .page__aside {
        position: fixed;
        right: 0;
        bottom: 0;
        left: clamp(10em, 272px, 20%);

        min-width: 728px;
        height: 90px;
        /* padding: 5px 10px; */
    }

    .page__main {
        min-width: 728px;
        min-height: calc(100vh - var(--header-size));
        padding-bottom: 90px;
    }
}

@media (min-width: 80rem) {
    .page {
        display: grid;
        grid-template-columns: minmax(10rem, 20%) minmax(min(40rem, 40%), 1fr) minmax(320px, 20%);
        grid-template-rows: minmax(var(--header-size), auto) 1fr;
    }

    .page__main {
        min-width: auto;
        min-height: calc(100vh - var(--header-size));
        padding-bottom: 0;
    }

    .page__aside {
        position: static;

        min-width: auto;
        height: auto;
        padding: 0;

        background: none;
    }
}

/* Search state (begin) */
    .page_state_search [class*=page__]:not(.page__sitemap):not(.page__head) {
        display: none;
    }

    .page_state_search .page__sitemap {
        display: flex;
    }
/* Search state (end) */

/* Menu state (begin) */
    .page_state_menu {
        /* отключаем прокрутку страницы, когда показано меню на малых экранах, прокручивается только меню */
        overflow: hidden;
    }

    .page_state_menu .page__menu {
        /* прокручивается только меню, когда показано на малом экране */
        overflow: auto;
        -webkit-overflow-scrolling: touch;
    }
/* Menu state (end) */
